# Function (함수)
함수 호출은 스택을 사용하여 수행됩니다. %rsp와 %rbp 레지스터는 스택 프레임을 조작하는 데 사용됩니다. 함수가 호출되면 %rbp는 이전 스택 프레임의 베이스를 가리키고, %rsp는 새로운 스택 프레임의 맨 위를 가리킵니다. 함수가 반환될 때는 그 반대로 스택을 복원합니다.

    main:
        pushq   %rbp          ; 이전 스택 프레임의 베이스를 저장
        movq    %rsp, %rbp    ; 새로운 스택 프레임의 베이스 설정
        subq    $32, %rsp     ; 스택 프레임에 공간 할당
        call    __main        ; 다른 함수 호출
        movl    $0, %eax      ; 반환 값 설정
        addq    $32, %rsp     ; 스택 복원
        popq    %rbp          ; 이전 스택 프레임으로 돌아가기
        ret                   ; 함수 종료
위의 코드에서 pushq, movq, subq 명령어를 통해 새로운 스택 프레임을 설정하고 공간을 할당하고, 함수가 반환되면 addq, popq 명령어를 통해 스택을 복원합니다.

# Variable (변수)
변수는 스택 프레임 내에 메모리를 할당하여 사용됩니다. %rbp를 기준으로 한 오프셋을 사용하여 변수에 접근합니다.

        movl    $0, -4(%rbp)    ; 변수에 값 할당
위의 코드에서 -4(%rbp)는 현재 스택 프레임에서 4바이트 앞의 위치에 있는 변수를 가리킵니다. 여기에 0 값을 할당하는 것입니다.

# For (반복문)
반복문은 주어진 조건이 만족할 때까지 일련의 명령문을 반복 실행합니다. 조건은 cmpl, jle 등의 명령어를 통해 체크됩니다.


    main:
        ~~~~~~~생략~~~~~~~
        movl    $0, -4(%rbp)  ; 반복문 변수 초기화
        jmp     .L2           ; 조건 확인
        .L3:
        addl    $1, -4(%rbp)  ; 반복문 변수 증가
        .L2:
        cmpl    $9, -4(%rbp)  ; 조건 체크
        jle     .L3           ; 조건 만족 시 반복
위의 코드에서 .L3에서는 반복문 변수를 증가시키고, .L2에서는 조건을 체크하여 반복 여부를 결정합니다.

# Break (탈출문)
break문은 반복문에서 특정 조건이 충족되면 반복을 탈출합니다. 이는 조건문을 통해 반복 중간에 빠져나가게 됩니다.


    main:
        ~~~~~~~생략~~~~~~~
        cmpl    -4(%rbp), $2  ; 조건 확인
        je      .L2           ; 조건 만족 시 반복문 탈출
        .L2:
        nop
위의 코드에서 -4(%rbp)의 값이 2와 같으면 .L2로 점프하여 반복문을 탈출합니다.

# Print (출력)
출력은 주로 printf나 std::cout을 사용하여 수행됩니다. 이들은 문자열이나 변수를 출력하는 함수로, %rax, %rcx 등의 레지스터를 통해 인자를 전달하고 호출합니다.

        leaq    .LC0(%rip), %rax       ; 출력할 문자열의 주소를 가져옴
        movq    %rax, %rcx              ; 문자열 주소를 인자로 설정
        call    printf(char const*, ...) ; printf 함수 호출
위의 코드에서 leaq, movq, call 명령어를 통해 printf 함수를 호출하며, 문자열의 주소를 인자로 전달합니다.

# Scan (입력)
입력은 주로 scanf나 std::cin을 사용하여 수행됩니다. 이들은 사용자로부터 값을 입력받아 변수에 저장하는 함수로, 호출될 때 인자를 받아들이고 해당 값에 따라 레지스터에 저장합니다.

        leaq    -4(%rbp), %rax              ; 입력 값을 저장할 변수의 주소를 가져옴
        movq    %rax, %rdx                  ; 변수 주소를 인자로 설정
        movq    .refptr.std::cin(%rip), %rax; std::cin 객체의 주소를 가져옴
        movq    %rax, %rcx                  ; std::cin 객체 주소를 인자로 설정
        call    std::basic_istream<char, std::char_traits<char> >::operator>>(int&)
위의 코드에서 leaq, movq, call 명령어를 통해 std::cin 객체에서 값을 읽어와 변수에 저장합니다.